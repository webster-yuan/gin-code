# 待办事项清单 (TODO List)

本文档用于记录项目的待办事项和功能改进计划。

---

## 🔐 认证授权相关

### RBAC 权限控制系统 ⚠️ 待实现

**优先级：** 低

**问题描述：**
当前项目缺少基于角色的访问控制（Role-Based Access Control, RBAC）机制。所有用户权限相同，无法实现细粒度的权限管理。

**建议实现方案：**

1. **角色定义**
   ```go
   type Role int
   const (
       RoleAdmin Role = iota  // 管理员
       RoleUser               // 普通用户
       // 可根据业务需求扩展更多角色
   )
   ```

2. **用户角色关联**
   - 在用户表中添加 `role` 字段
   - 或在单独的 `user_roles` 表中建立关联

3. **权限中间件**
   ```go
   func RequireRole(role Role) gin.HandlerFunc {
       return func(c *gin.Context) {
           // 从 JWT 中获取用户角色
           // 验证用户是否具有所需角色
           // 无权限则返回 403 Forbidden
       }
   }
   ```

4. **权限检查**
   - 在路由组中应用角色检查中间件
   - 或在特定路由中应用权限要求

**预期收益：**
- ✅ 实现细粒度的权限控制
- ✅ 支持多角色权限管理
- ✅ 提升系统安全性
- ✅ 便于后续扩展权限功能

**相关文件：**
- `internal/models/user.go` - 用户模型
- `internal/api/middleware/auth.go` - 认证中间件
- `internal/auth/jwt.go` - JWT 声明（需要添加角色信息）
- `internal/api/routes.go` - 路由配置

**备注：**
- 当前版本已实现基本的 JWT 认证
- 刷新令牌机制已实现
- RBAC 作为可选增强功能，可根据实际业务需求决定是否实现

---

## 📝 添加新待办事项

请在下方按格式添加新的待办事项：

### [功能/问题名称] ⚠️ [优先级]

**优先级：** 高/中/低

**问题描述：**
描述需要解决的问题或实现的功能。

**建议方案：**
描述建议的实现方案或解决思路。

**预期收益：**
列出实现后的预期收益。

**相关文件：**
列出相关的代码文件或文档。

---

**最后更新：** 2026-01-18
